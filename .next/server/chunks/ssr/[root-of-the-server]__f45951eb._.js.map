{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///D:/stacky%20patel%20next%20js/GPT%20next%20project/nextauth-demo/src/app/dashboard/page.js"],"sourcesContent":["\"use client\";\nimport { useSession, signOut } from \"next-auth/react\";\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { NextResponse } from \"next/server\";\nimport { useRouter } from \"next/navigation\";\n\n\n\n\nexport default function Dashboard() {\n  const router = useRouter(); // âœ… router instance\n  const { data: session, status, update } = useSession();\n  const [form, setForm] = useState({\n    name :\"\",\n    email :\"\"\n  });\n\n  if (status === \"loading\") {\n    return <p>Loading...</p>;  // jab tak session check ho raha hai\n  }\n\n  if (status === \"unauthenticated\") {\n    return <Link href=\"/login\">Please login first</Link>;\n  }\n\n  const id = session.user.id\n\n  async function handleSubmit(e){\n    e.preventDefault();\n    try{\n      const res = await axios.put(`/api/users/${id}/update`, form)\n      console.log(\"API response:\", res.data);\n      if(res.data.success){\n       await update(\n        { \n         ...session,\n         user : res.data.user \n      });\n          // window.location.href = `/api/users/${id}`;\n      }\n          \n\n\n    } catch(err){\n       console.log(err)\n    }\n  }\n\n\n\n  return (\n\n    <>\n    <div className=\"mx-30 my-10\">\n      <h1>Welcome {session.user.name}</h1>\n      <p>Email: {session.user.email}</p>\n      <p>User id is {id}</p>\n      <button onClick={() => signOut()}>Logout</button>\n    </div>\n\n    <div className=\"\">\n\n      \n        <form onSubmit={handleSubmit} className=\"flex gap-3\" >\n            <label htmlFor=\"name\">Name</label>\n            <input className=\"border border-gray-300 p-2 rounded\" placeholder=\"name\"  value={form.name} onChange={(e) => setForm({...form, name: e.target.value})} />\n            <label htmlFor=\"email\">Email</label>\n            <input className=\"border border-gray-300 p-2 rounded\" placeholder=\"email\"  value={form.email} onChange={(e) => setForm({...form, email: e.target.value})} />\n        <button className=\"cursor-pointer bg-blue-500 text-white p-2 rounded\" type=\"submit\">Update your details</button>\n        </form>\n        \n    </div>\n    \n    </>\n  );\n}\n\n{/* <Link href={`/api/users/${id}/update`}>Update your details</Link> */}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAWe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS,KAAI,oBAAoB;IAChD,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,4JAAU;IACpD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;QAC/B,MAAM;QACN,OAAO;IACT;IAEA,IAAI,WAAW,WAAW;QACxB,qBAAO,8OAAC;sBAAE;;;;;kBAAiB,oCAAoC;IACjE;IAEA,IAAI,WAAW,mBAAmB;QAChC,qBAAO,8OAAC,uKAAI;YAAC,MAAK;sBAAS;;;;;;IAC7B;IAEA,MAAM,KAAK,QAAQ,IAAI,CAAC,EAAE;IAE1B,eAAe,aAAa,CAAC;QAC3B,EAAE,cAAc;QAChB,IAAG;YACD,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,GAAG,OAAO,CAAC,EAAE;YACvD,QAAQ,GAAG,CAAC,iBAAiB,IAAI,IAAI;YACrC,IAAG,IAAI,IAAI,CAAC,OAAO,EAAC;gBACnB,MAAM,OACL;oBACC,GAAG,OAAO;oBACV,MAAO,IAAI,IAAI,CAAC,IAAI;gBACvB;YACI,6CAA6C;YACjD;QAIF,EAAE,OAAM,KAAI;YACT,QAAQ,GAAG,CAAC;QACf;IACF;IAIA,qBAEE;;0BACA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;4BAAG;4BAAS,QAAQ,IAAI,CAAC,IAAI;;;;;;;kCAC9B,8OAAC;;4BAAE;4BAAQ,QAAQ,IAAI,CAAC,KAAK;;;;;;;kCAC7B,8OAAC;;4BAAE;4BAAY;;;;;;;kCACf,8OAAC;wBAAO,SAAS,IAAM,IAAA,yJAAO;kCAAI;;;;;;;;;;;;0BAGpC,8OAAC;gBAAI,WAAU;0BAGX,cAAA,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACpC,8OAAC;4BAAM,SAAQ;sCAAO;;;;;;sCACtB,8OAAC;4BAAM,WAAU;4BAAqC,aAAY;4BAAQ,OAAO,KAAK,IAAI;4BAAE,UAAU,CAAC,IAAM,QAAQ;oCAAC,GAAG,IAAI;oCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gCAAA;;;;;;sCACnJ,8OAAC;4BAAM,SAAQ;sCAAQ;;;;;;sCACvB,8OAAC;4BAAM,WAAU;4BAAqC,aAAY;4BAAS,OAAO,KAAK,KAAK;4BAAE,UAAU,CAAC,IAAM,QAAQ;oCAAC,GAAG,IAAI;oCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gCAAA;;;;;;sCAC1J,8OAAC;4BAAO,WAAU;4BAAoD,MAAK;sCAAS;;;;;;;;;;;;;;;;;;;AAO5F;AAEA,CAAwE","debugId":null}},
    {"offset": {"line": 288, "column": 2}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}